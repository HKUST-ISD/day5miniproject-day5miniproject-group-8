# Project1 硬件说明书

## 项目概述
本项目是一个基于Arduino的超声波距离检测系统，能够根据检测到的距离控制LED和蜂鸣器，并播放不同音调的《Jingle Bells》旋律。

## 硬件组件清单

| 组件 | 数量 | 说明 |
|------|------|------|
| Arduino开发板 | 1 | 主控制器（建议使用Arduino Uno） |
| 超声波传感器 (HC-SR04) | 1 | 距离检测传感器 |
| 蜂鸣器 | 1 | 播放音乐旋律 |
| LED | 1 | 状态指示灯（可使用板载LED） |
| 面包板 | 1 | 连接电路 |
| 杜邦线 | 若干 | 连接组件 |

## 引脚连接说明

### 超声波传感器 (HC-SR04)
| 传感器引脚 | Arduino引脚 | 说明 |
|-----------|------------|------|
| VCC | 5V | 电源正极 |
| GND | GND | 电源负极 |
| TRIG | D9 | 触发信号输出 |
| ECHO | D10 | 回波信号输入 |

### 蜂鸣器
| 蜂鸣器引脚 | Arduino引脚 | 说明 |
|-----------|------------|------|
| 正极 (+) | D8 | 控制信号 |
| 负极 (-) | GND | 接地 |

### LED
| LED引脚 | Arduino引脚 | 说明 |
|---------|------------|------|
| 正极 (+) | D13 | 控制信号 |
| 负极 (-) | GND | 接地（需串联220Ω电阻） |

## 接线图

```
Arduino Uno
│
├─ 5V ───────────┐
│                │
├─ GND ──────────┼───────────┐
│                │           │
├─ D9  ──────────┤           │
│                │   HC-SR04 │
├─ D10 ──────────┼───────────┤
│                │           │
├─ D8  ──────────┼───────┐   │
│                │       │   │
├─ D13 ──────────┼───┐   │   │
│                │   │   │   │
│                │   │   │   │
│            ┌───┴─┐ │ ┌─┴─┐ │
│            │Buzz│ │ │LED│ │
│            └────┘ │ └───┘ │
│                    │       │
└────────────────────┴───────┴─
```

## 详细接线步骤

### 步骤1：连接超声波传感器
1. 将HC-SR04的VCC引脚连接到Arduino的5V引脚
2. 将HC-SR04的GND引脚连接到Arduino的GND引脚
3. 将HC-SR04的TRIG引脚连接到Arduino的D9数字引脚
4. 将HC-SR04的ECHO引脚连接到Arduino的D10数字引脚

### 步骤2：连接蜂鸣器
1. 将蜂鸣器的正极（+）连接到Arduino的D8数字引脚
2. 将蜂鸣器的负极（-）连接到Arduino的GND引脚
3. 如果是有源蜂鸣器，注意极性；如果是无源蜂鸣器，可以使用PWM信号控制音调

### 步骤3：连接LED
1. 将LED的长脚（正极）连接到220Ω电阻的一端
2. 将电阻的另一端连接到Arduino的D13数字引脚
3. 将LED的短脚（负极）连接到Arduino的GND引脚
4. 或者直接使用Arduino板载的D13引脚LED

## 工作原理

### 超声波传感器
- HC-SR04通过发射超声波脉冲并测量回波时间来计算距离
- 测量范围：2cm - 400cm
- 精度：可达3mm
- 有效角度：<15°

### 距离检测逻辑
- **距离 > 10cm**：LED常亮，蜂鸣器静音（安全距离）
- **5cm ≤ 距离 ≤ 10cm**：LED关闭，蜂鸣器播放高音《Jingle Bells》（警告）
- **距离 < 5cm**：LED关闭，蜂鸣器播放低音《Jingle Bells》（危险）

### 蜂鸣器音乐播放
- 使用tone()函数产生不同频率的音调
- 通过pitches.h头文件定义音符频率
- 循环播放旋律数组中的音符

## 代码上传步骤

1. 安装Arduino IDE（如果尚未安装）
2. 从项目文件夹打开`Project1.ino`文件
3. 确保已安装`NewPing`库：
   - 在Arduino IDE中：Sketch → Include Library → Manage Libraries
   - 搜索"NewPing"并安装
4. 连接Arduino到电脑
5. 选择正确的开发板：Tools → Board → Arduino Uno
6. 选择正确的端口：Tools → Port → 选择Arduino连接的端口
7. 点击上传按钮（→）上传代码

## 测试与调试

### 测试步骤
1. 上传代码后，打开串口监视器（Tools → Serial Monitor）
2. 设置波特率为9600
3. 将手或其他物体放置在传感器前方
4. 观察LED状态和蜂鸣器声音变化

### 常见问题排查

| 问题 | 可能原因 | 解决方法 |
|------|---------|---------|
| 传感器无读数 | 接线错误 | 检查VCC、GND、TRIG、ECHO连接 |
| 距离读数为0 | 传感器未对准 | 确保传感器垂直朝向目标物 |
| 蜂鸣器不响 | 引脚连接错误 | 检查D8和GND连接 |
| LED不亮 | 引脚连接错误 | 检查D13和GND连接 |
| 串口无数据 | 波特率不匹配 | 设置为9600 |

## 安全注意事项

1. **电压安全**：确保所有组件使用5V电压，避免过压损坏
2. **接线顺序**：先断电再接线，接好线后再上电
3. ** polarity注意**：LED和蜂鸣器有极性，注意正负极
4. **电阻使用**：LED必须串联限流电阻（220Ω）
5. **传感器保护**：避免超声波传感器受到强烈撞击

## 扩展功能建议

1. **OLED显示屏**：实时显示距离数值
2. **温湿度传感器**：结合环境数据提供更全面信息
3. **RGB LED**：使用不同颜色指示不同距离范围
4. **WiFi模块**：实现远程监控和数据上传
5. **报警阈值调整**：添加电位器调整报警距离

## 技术参数

| 参数 | 数值 |
|------|------|
| 工作电压 | 5V DC |
| 测量距离 | 2cm - 400cm |
| 测量精度 | ±3mm |
| 工作温度 | -20°C ~ +70°C |
| 串口波特率 | 9600 |

## 维护与保养

1. 定期检查接线是否松动
2. 保持传感器表面清洁
3. 避免在潮湿或高温环境中使用
4. 长期不用时断开电源
5. 存放于干燥通风处

## 联系与支持

如有问题，请检查：
- Arduino官方文档：https://www.arduino.cc/reference/en/
- NewPing库文档：https://bitbucket.org/teckel12/arduino-new-ping/wiki/Home

---

**版本信息**：V1.0
**最后更新**：2026年1月15日
